{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.accessListify = void 0;\nvar index_js_1 = require(\"../address/index.js\");\nvar index_js_2 = require(\"../utils/index.js\");\nfunction accessSetify(addr, storageKeys) {\n  return {\n    address: (0, index_js_1.getAddress)(addr),\n    storageKeys: storageKeys.map(function (storageKey, index) {\n      (0, index_js_2.assertArgument)((0, index_js_2.isHexString)(storageKey, 32), \"invalid slot\", \"storageKeys[\".concat(index, \"]\"), storageKey);\n      return storageKey.toLowerCase();\n    })\n  };\n}\n/**\n *  Returns a [[AccessList]] from any ethers-supported access-list structure.\n */\nfunction accessListify(value) {\n  if (Array.isArray(value)) {\n    return value.map(function (set, index) {\n      if (Array.isArray(set)) {\n        (0, index_js_2.assertArgument)(set.length === 2, \"invalid slot set\", \"value[\".concat(index, \"]\"), set);\n        return accessSetify(set[0], set[1]);\n      }\n      (0, index_js_2.assertArgument)(set != null && typeof set === \"object\", \"invalid address-slot set\", \"value\", value);\n      return accessSetify(set.address, set.storageKeys);\n    });\n  }\n  (0, index_js_2.assertArgument)(value != null && typeof value === \"object\", \"invalid access list\", \"value\", value);\n  var result = Object.keys(value).map(function (addr) {\n    var storageKeys = value[addr].reduce(function (accum, storageKey) {\n      accum[storageKey] = true;\n      return accum;\n    }, {});\n    return accessSetify(addr, Object.keys(storageKeys).sort());\n  });\n  result.sort(function (a, b) {\n    return a.address.localeCompare(b.address);\n  });\n  return result;\n}\nexports.accessListify = accessListify;","map":{"version":3,"names":["index_js_1","require","index_js_2","accessSetify","addr","storageKeys","address","getAddress","map","storageKey","index","assertArgument","isHexString","concat","toLowerCase","accessListify","value","Array","isArray","set","length","result","Object","keys","reduce","accum","sort","a","b","localeCompare","exports"],"sources":["/Users/aryanbindroo/eth-waterloo/frontend/node_modules/ethers/src.ts/transaction/accesslist.ts"],"sourcesContent":["import { getAddress } from \"../address/index.js\";\nimport { assertArgument, isHexString } from \"../utils/index.js\";\n\nimport type { AccessList, AccessListish } from \"./index.js\";\n\n\nfunction accessSetify(addr: string, storageKeys: Array<string>): { address: string,storageKeys: Array<string> } {\n    return {\n        address: getAddress(addr),\n        storageKeys: storageKeys.map((storageKey, index) => {\n            assertArgument(isHexString(storageKey, 32), \"invalid slot\", `storageKeys[${ index }]`, storageKey);\n            return storageKey.toLowerCase();\n        })\n    };\n}\n\n/**\n *  Returns a [[AccessList]] from any ethers-supported access-list structure.\n */\nexport function accessListify(value: AccessListish): AccessList {\n    if (Array.isArray(value)) {\n        return (<Array<[ string, Array<string>] | { address: string, storageKeys: Array<string>}>>value).map((set, index) => {\n            if (Array.isArray(set)) {\n                assertArgument(set.length === 2, \"invalid slot set\", `value[${ index }]`, set);\n                return accessSetify(set[0], set[1])\n            }\n            assertArgument(set != null && typeof(set) === \"object\", \"invalid address-slot set\", \"value\", value);\n            return accessSetify(set.address, set.storageKeys);\n        });\n    }\n\n    assertArgument(value != null && typeof(value) === \"object\", \"invalid access list\", \"value\", value);\n\n    const result: Array<{ address: string, storageKeys: Array<string> }> = Object.keys(value).map((addr) => {\n        const storageKeys: Record<string, true> = value[addr].reduce((accum, storageKey) => {\n            accum[storageKey] = true;\n            return accum;\n        }, <Record<string, true>>{ });\n        return accessSetify(addr, Object.keys(storageKeys).sort())\n    });\n    result.sort((a, b) => (a.address.localeCompare(b.address)));\n    return result;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AAKA,SAASE,YAAYA,CAACC,IAAY,EAAEC,WAA0B;EAC1D,OAAO;IACHC,OAAO,EAAE,IAAAN,UAAA,CAAAO,UAAU,EAACH,IAAI,CAAC;IACzBC,WAAW,EAAEA,WAAW,CAACG,GAAG,CAAC,UAACC,UAAU,EAAEC,KAAK,EAAI;MAC/C,IAAAR,UAAA,CAAAS,cAAc,EAAC,IAAAT,UAAA,CAAAU,WAAW,EAACH,UAAU,EAAE,EAAE,CAAC,EAAE,cAAc,iBAAAI,MAAA,CAAkBH,KAAM,QAAKD,UAAU,CAAC;MAClG,OAAOA,UAAU,CAACK,WAAW,EAAE;IACnC,CAAC;GACJ;AACL;AAEA;;;AAGA,SAAgBC,aAAaA,CAACC,KAAoB;EAC9C,IAAIC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,EAAE;IACtB,OAA0FA,KAAM,CAACR,GAAG,CAAC,UAACW,GAAG,EAAET,KAAK,EAAI;MAChH,IAAIO,KAAK,CAACC,OAAO,CAACC,GAAG,CAAC,EAAE;QACpB,IAAAjB,UAAA,CAAAS,cAAc,EAACQ,GAAG,CAACC,MAAM,KAAK,CAAC,EAAE,kBAAkB,WAAAP,MAAA,CAAYH,KAAM,QAAKS,GAAG,CAAC;QAC9E,OAAOhB,YAAY,CAACgB,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,CAAC;;MAEvC,IAAAjB,UAAA,CAAAS,cAAc,EAACQ,GAAG,IAAI,IAAI,IAAI,OAAOA,GAAI,KAAK,QAAQ,EAAE,0BAA0B,EAAE,OAAO,EAAEH,KAAK,CAAC;MACnG,OAAOb,YAAY,CAACgB,GAAG,CAACb,OAAO,EAAEa,GAAG,CAACd,WAAW,CAAC;IACrD,CAAC,CAAC;;EAGN,IAAAH,UAAA,CAAAS,cAAc,EAACK,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAM,KAAK,QAAQ,EAAE,qBAAqB,EAAE,OAAO,EAAEA,KAAK,CAAC;EAElG,IAAMK,MAAM,GAA2DC,MAAM,CAACC,IAAI,CAACP,KAAK,CAAC,CAACR,GAAG,CAAC,UAACJ,IAAI,EAAI;IACnG,IAAMC,WAAW,GAAyBW,KAAK,CAACZ,IAAI,CAAC,CAACoB,MAAM,CAAC,UAACC,KAAK,EAAEhB,UAAU,EAAI;MAC/EgB,KAAK,CAAChB,UAAU,CAAC,GAAG,IAAI;MACxB,OAAOgB,KAAK;IAChB,CAAC,EAAwB,EAAG,CAAC;IAC7B,OAAOtB,YAAY,CAACC,IAAI,EAAEkB,MAAM,CAACC,IAAI,CAAClB,WAAW,CAAC,CAACqB,IAAI,EAAE,CAAC;EAC9D,CAAC,CAAC;EACFL,MAAM,CAACK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAMD,CAAC,CAACrB,OAAO,CAACuB,aAAa,CAACD,CAAC,CAACtB,OAAO,CAAC;EAAA,CAAC,CAAC;EAC3D,OAAOe,MAAM;AACjB;AAvBAS,OAAA,CAAAf,aAAA,GAAAA,aAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}