{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _classPrivateFieldInitSpec = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\nvar _defineProperty = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _classPrivateFieldGet = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/classPrivateFieldGet.js\").default;\nvar _classPrivateFieldSet = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/classPrivateFieldSet.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventPayload = void 0;\n/**\n *  Events allow for applications to use the observer pattern, which\n *  allows subscribing and publishing events, outside the normal\n *  execution paths.\n *\n *  @_section api/utils/events:Events  [about-events]\n */\nvar properties_js_1 = require(\"./properties.js\");\n/**\n *  When an [[EventEmitterable]] triggers a [[Listener]], the\n *  callback always ahas one additional argument passed, which is\n *  an **EventPayload**.\n */\nvar _listener = /*#__PURE__*/new WeakMap();\nvar EventPayload = /*#__PURE__*/function () {\n  /**\n   *  Create a new **EventPayload** for %%emitter%% with\n   *  the %%listener%% and for %%filter%%.\n   */\n  function EventPayload(emitter, listener, filter) {\n    _classCallCheck(this, EventPayload);\n    /**\n     *  The event filter.\n     */\n    _defineProperty(this, \"filter\", void 0);\n    /**\n     *  The **EventEmitterable**.\n     */\n    _defineProperty(this, \"emitter\", void 0);\n    _classPrivateFieldInitSpec(this, _listener, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldSet(this, _listener, listener);\n    (0, properties_js_1.defineProperties)(this, {\n      emitter: emitter,\n      filter: filter\n    });\n  }\n  /**\n   *  Unregister the triggered listener for future events.\n   */\n  _createClass(EventPayload, [{\n    key: \"removeListener\",\n    value: function () {\n      var _removeListener = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_classPrivateFieldGet(this, _listener) == null)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              _context.next = 4;\n              return this.emitter.off(this.filter, _classPrivateFieldGet(this, _listener));\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function removeListener() {\n        return _removeListener.apply(this, arguments);\n      }\n      return removeListener;\n    }()\n  }]);\n  return EventPayload;\n}();\nexports.EventPayload = EventPayload;","map":{"version":3,"names":["properties_js_1","require","_listener","WeakMap","EventPayload","emitter","listener","filter","_classCallCheck","_defineProperty","_classPrivateFieldInitSpec","writable","value","_classPrivateFieldSet","defineProperties","_createClass","key","_removeListener","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","_classPrivateFieldGet","abrupt","off","stop","removeListener","apply","arguments","exports"],"sources":["/Users/aryanbindroo/eth-waterloo/frontend/node_modules/ethers/src.ts/utils/events.ts"],"sourcesContent":["/**\n *  Events allow for applications to use the observer pattern, which\n *  allows subscribing and publishing events, outside the normal\n *  execution paths.\n *\n *  @_section api/utils/events:Events  [about-events]\n */\nimport { defineProperties } from \"./properties.js\";\n\n/**\n *  A callback function called when a an event is triggered.\n */\nexport type Listener = (...args: Array<any>) => void;\n\n/**\n *  An **EventEmitterable** behaves similar to an EventEmitter\n *  except provides async access to its methods.\n *\n *  An EventEmitter implements the observer pattern.\n */\nexport interface EventEmitterable<T> {\n    /**\n     *  Registers a %%listener%% that is called whenever the\n     *  %%event%% occurs until unregistered.\n     */\n    on(event: T, listener: Listener): Promise<this>;\n\n    /**\n     *  Registers a %%listener%% that is called the next time\n     *  %%event%% occurs.\n     */\n    once(event: T, listener: Listener): Promise<this>;\n\n    /**\n     *  Triggers each listener for %%event%% with the %%args%%.\n     */\n    emit(event: T, ...args: Array<any>): Promise<boolean>;\n\n    /**\n     *  Resolves to the number of listeners for %%event%%.\n     */\n    listenerCount(event?: T): Promise<number>;\n\n    /**\n     *  Resolves to the listeners for %%event%%.\n     */\n    listeners(event?: T): Promise<Array<Listener>>;\n\n    /**\n     *  Unregister the %%listener%% for %%event%%. If %%listener%%\n     *  is unspecified, all listeners are unregistered.\n     */\n    off(event: T, listener?: Listener): Promise<this>;\n\n    /**\n     *  Unregister all listeners for %%event%%.\n     */\n    removeAllListeners(event?: T): Promise<this>;\n\n    /**\n     *  Alias for [[on]].\n     */\n    addListener(event: T, listener: Listener): Promise<this>;\n\n    /**\n     *  Alias for [[off]].\n     */\n    removeListener(event: T, listener: Listener): Promise<this>;\n}\n\n/**\n *  When an [[EventEmitterable]] triggers a [[Listener]], the\n *  callback always ahas one additional argument passed, which is\n *  an **EventPayload**.\n */\nexport class EventPayload<T> {\n    /**\n     *  The event filter.\n     */\n    readonly filter!: T;\n\n    /**\n     *  The **EventEmitterable**.\n     */\n    readonly emitter!: EventEmitterable<T>;\n\n    readonly #listener: null | Listener;\n\n    /**\n     *  Create a new **EventPayload** for %%emitter%% with\n     *  the %%listener%% and for %%filter%%.\n     */\n    constructor(emitter: EventEmitterable<T>, listener: null | Listener, filter: T) {\n        this.#listener = listener;\n        defineProperties<EventPayload<any>>(this, { emitter, filter });\n    }\n\n    /**\n     *  Unregister the triggered listener for future events.\n     */\n    async removeListener(): Promise<void> {\n        if (this.#listener == null) { return; }\n        await this.emitter.off(this.filter, this.#listener);\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;AAOA,IAAAA,eAAA,GAAAC,OAAA;AA+DA;;;;;AAAA,IAAAC,SAAA,oBAAAC,OAAA;AAAA,IAKaC,YAAY;EAarB;;;;EAIA,SAAAA,aAAYC,OAA4B,EAAEC,QAAyB,EAAEC,MAAS;IAAAC,eAAA,OAAAJ,YAAA;IAhB9E;;;IAAAK,eAAA;IAKA;;;IAAAA,eAAA;IAAAC,0BAAA,OAAAR,SAAA;MAAAS,QAAA;MAAAC,KAAA;IAAA;IAYIC,qBAAA,KAAI,EAAAX,SAAA,EAAaI,QAAQ;IACzB,IAAAN,eAAA,CAAAc,gBAAgB,EAAoB,IAAI,EAAE;MAAET,OAAO,EAAPA,OAAO;MAAEE,MAAM,EAANA;IAAM,CAAE,CAAC;EAClE;EAEA;;;EAAAQ,YAAA,CAAAX,YAAA;IAAAY,GAAA;IAAAJ,KAAA;MAAA,IAAAK,eAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAGA,SAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,MACQC,qBAAA,KAAI,EAAAzB,SAAA,KAAc,IAAI;gBAAAsB,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAI,MAAA;YAAA;cAAAJ,QAAA,CAAAE,IAAA;cAAA,OACpB,IAAI,CAACrB,OAAO,CAACwB,GAAG,CAAC,IAAI,CAACtB,MAAM,EAAAoB,qBAAA,CAAE,IAAI,EAAAzB,SAAA,CAAU,CAAC;YAAA;YAAA;cAAA,OAAAsB,QAAA,CAAAM,IAAA;UAAA;QAAA,GAAAT,OAAA;MAAA,CACtD;MAAA,SAAAU,eAAA;QAAA,OAAAd,eAAA,CAAAe,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAF,cAAA;IAAA;EAAA;EAAA,OAAA3B,YAAA;AAAA;AA5BL8B,OAAA,CAAA9B,YAAA,GAAAA,YAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}