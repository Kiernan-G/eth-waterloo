{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _assertThisInitialized = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js\").default;\nvar _inherits = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar _defineProperty = require(\"/Users/aryanbindroo/eth-waterloo/frontend/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TupleCoder = void 0;\nvar properties_js_1 = require(\"../../utils/properties.js\");\nvar typed_js_1 = require(\"../typed.js\");\nvar abstract_coder_js_1 = require(\"./abstract-coder.js\");\nvar array_js_1 = require(\"./array.js\");\n/**\n *  @_ignore\n */\nvar TupleCoder = /*#__PURE__*/function (_abstract_coder_js_1$) {\n  _inherits(TupleCoder, _abstract_coder_js_1$);\n  var _super = _createSuper(TupleCoder);\n  function TupleCoder(coders, localName) {\n    var _this;\n    _classCallCheck(this, TupleCoder);\n    var dynamic = false;\n    var types = [];\n    coders.forEach(function (coder) {\n      if (coder.dynamic) {\n        dynamic = true;\n      }\n      types.push(coder.type);\n    });\n    var type = \"tuple(\" + types.join(\",\") + \")\";\n    _this = _super.call(this, \"tuple\", type, localName, dynamic);\n    _defineProperty(_assertThisInitialized(_this), \"coders\", void 0);\n    (0, properties_js_1.defineProperties)(_assertThisInitialized(_this), {\n      coders: Object.freeze(coders.slice())\n    });\n    return _this;\n  }\n  _createClass(TupleCoder, [{\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      var values = [];\n      this.coders.forEach(function (coder) {\n        values.push(coder.defaultValue());\n      });\n      // We only output named properties for uniquely named coders\n      var uniqueNames = this.coders.reduce(function (accum, coder) {\n        var name = coder.localName;\n        if (name) {\n          if (!accum[name]) {\n            accum[name] = 0;\n          }\n          accum[name]++;\n        }\n        return accum;\n      }, {});\n      // Add named values\n      this.coders.forEach(function (coder, index) {\n        var name = coder.localName;\n        if (!name || uniqueNames[name] !== 1) {\n          return;\n        }\n        if (name === \"length\") {\n          name = \"_length\";\n        }\n        if (values[name] != null) {\n          return;\n        }\n        values[name] = values[index];\n      });\n      return Object.freeze(values);\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(writer, _value) {\n      var value = typed_js_1.Typed.dereference(_value, \"tuple\");\n      return (0, array_js_1.pack)(writer, this.coders, value);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(reader) {\n      return (0, array_js_1.unpack)(reader, this.coders);\n    }\n  }]);\n  return TupleCoder;\n}(abstract_coder_js_1.Coder);\nexports.TupleCoder = TupleCoder;","map":{"version":3,"names":["properties_js_1","require","typed_js_1","abstract_coder_js_1","array_js_1","TupleCoder","_abstract_coder_js_1$","_inherits","_super","_createSuper","coders","localName","_this","_classCallCheck","dynamic","types","forEach","coder","push","type","join","call","_defineProperty","_assertThisInitialized","defineProperties","Object","freeze","slice","_createClass","key","value","defaultValue","values","uniqueNames","reduce","accum","name","index","encode","writer","_value","Typed","dereference","pack","decode","reader","unpack","Coder","exports"],"sources":["/Users/aryanbindroo/eth-waterloo/frontend/node_modules/ethers/src.ts/abi/coders/tuple.ts"],"sourcesContent":["import { defineProperties } from \"../../utils/properties.js\";\n\nimport { Typed } from \"../typed.js\";\nimport { Coder } from \"./abstract-coder.js\";\n\nimport { pack, unpack } from \"./array.js\";\n\nimport type { Reader, Writer } from \"./abstract-coder.js\";\n\n/**\n *  @_ignore\n */\nexport class TupleCoder extends Coder {\n    readonly coders!: ReadonlyArray<Coder>;\n\n    constructor(coders: Array<Coder>, localName: string) {\n        let dynamic = false;\n        const types: Array<string> = [];\n        coders.forEach((coder) => {\n            if (coder.dynamic) { dynamic = true; }\n            types.push(coder.type);\n        });\n        const type = (\"tuple(\" + types.join(\",\") + \")\");\n\n        super(\"tuple\", type, localName, dynamic);\n        defineProperties<TupleCoder>(this, { coders: Object.freeze(coders.slice()) });\n    }\n\n    defaultValue(): any {\n        const values: any = [ ];\n        this.coders.forEach((coder) => {\n            values.push(coder.defaultValue());\n        });\n\n        // We only output named properties for uniquely named coders\n        const uniqueNames = this.coders.reduce((accum, coder) => {\n            const name = coder.localName;\n            if (name) {\n                if (!accum[name]) { accum[name] = 0; }\n                accum[name]++;\n            }\n            return accum;\n        }, <{ [ name: string ]: number }>{ });\n\n        // Add named values\n        this.coders.forEach((coder: Coder, index: number) => {\n            let name = coder.localName;\n            if (!name || uniqueNames[name] !== 1) { return; }\n\n            if (name === \"length\") { name = \"_length\"; }\n\n            if (values[name] != null) { return; }\n\n            values[name] = values[index];\n        });\n\n        return Object.freeze(values);\n    }\n\n    encode(writer: Writer, _value: Array<any> | { [ name: string ]: any } | Typed): number {\n        const value = Typed.dereference(_value, \"tuple\");\n        return pack(writer, this.coders, value);\n    }\n\n    decode(reader: Reader): any {\n        return unpack(reader, this.coders);\n    }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}